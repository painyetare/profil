@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
    font-family: 'mainFont';
    src: url(../../public/font/NeueHaasDisplay-Roman.ttf);
    font-display: swap;
}

* {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}

/* Responsive base styles */
html {
    font-size: 16px;
    scroll-behavior: smooth;
    overflow-x: hidden;
}

/* Mobile-first font scaling */
@media (max-width: 374px) {
    html { font-size: 14px; }
}

@media (min-width: 375px) and (max-width: 639px) {
    html { font-size: 15px; }
}

@media (min-width: 640px) and (max-width: 767px) {
    html { font-size: 16px; }
}

@media (min-width: 768px) and (max-width: 1023px) {
    html { font-size: 17px; }
}

@media (min-width: 1024px) {
    html { font-size: 18px; }
}

/* Improved viewport handling */
body {
    min-height: 100vh;
    min-height: 100dvh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-overflow-scrolling: touch;
    position: relative;
}

/* Enhanced theme support */
body[theme="black"] {
    background-color: var(--black);
}

body[theme="black"] .section {
    color: var(--light);
}

body[theme="light"] {
    background-color: var(--light);
}

body[theme="light"] .section {
    color: var(--black);
}

/* Responsive scrollbar */
::-webkit-scrollbar {
    width: 4px;
}

@media (min-width: 768px) {
    ::-webkit-scrollbar {
        width: 6px;
    }
}

::-webkit-scrollbar-track {
    background: #0F0F0F;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 50px;
}

/* Responsive utilities */
@layer utilities {
    .text-responsive-xs {
        @apply text-xs xs:text-sm sm:text-base md:text-lg lg:text-xl;
    }
    
    .text-responsive-sm {
        @apply text-sm xs:text-base sm:text-lg md:text-xl lg:text-2xl;
    }
    
    .text-responsive-base {
        @apply text-base xs:text-lg sm:text-xl md:text-2xl lg:text-3xl;
    }
}

/* Mobile fixes */
body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* Hide cursor on mobile and tablet devices */
@media (max-width: 1024px) {
  .cursor, .cursor1 {
    display: none !important;
    visibility: hidden !important;
  }
}

/* Mobile and tablet specific fixes */
@media (max-width: 768px) {
  body {
    overflow-x: hidden;
    position: relative;
  }
  
  html {
    overflow-x: hidden;
  }
  
  /* Prevent horizontal scroll on mobile */
  * {
    max-width: 100vw;
  }
  
  /* Fix touch scrolling */
  body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* CRITICAL: Fix for mobile video issues - disable all video controls and autoplay */
  video {
    -webkit-playsinline: true;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    max-width: 100%;
    height: auto;
    /* Disable all video controls on mobile */
    pointer-events: none !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }
  
  /* Hide video controls completely on mobile */
  video::-webkit-media-controls {
    display: none !important;
    -webkit-appearance: none !important;
  }
  
  video::-webkit-media-controls-panel {
    display: none !important;
    -webkit-appearance: none !important;
  }
  
  video::-webkit-media-controls-play-button {
    display: none !important;
    -webkit-appearance: none !important;
  }
  
  video::-webkit-media-controls-start-playback-button {
    display: none !important;
    -webkit-appearance: none !important;
  }
  
  /* Force videos to be background elements only */
  video {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    z-index: -1 !important;
  }
}

/* Tablet specific adjustments */
@media (min-width: 768px) and (max-width: 1024px) {
  .cursor, .cursor1 {
    display: none !important;
  }
  
  /* Also disable video controls on tablets */
  video {
    pointer-events: none;
  }
}

/* Desktop specific */
@media (min-width: 1025px) {
  .cursor, .cursor1 {
    display: block;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .cursor, .cursor1 {
    display: none !important;
  }
  
  /* Disable video interactions on all touch devices */
  video {
    pointer-events: none !important;
    -webkit-touch-callout: none !important;
  }
  
  /* Increase touch targets */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Global video fixes */
video {
  -webkit-playsinline: true;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  max-width: 100%;
  height: auto;
}